## Ответы на вопросы экзамена 12.01

### Что такое Service и Ingress? - основные понятия, виды ресурсов + манифесты для каждого типа ресурсов

Сервис в Kubernetes — это абстракция, определяющая логический набор подов и способ доступа к ним (иногда такой набор подов еще называют микросервисом). 
Типы сервисов в K8S:

- ClusterIP: используется по умолчанию.
- NodePort: предоставляет доступ к сервису на IP-адресе каждого узла (ноды) кластера.
- LoadBalancer: предоставляет доступ к сервису используя балансировщик (load balancer) облачного провайдера.
 
Сервисы нужны для: 
- обращения ко внешний кластер баз данных и локальных бд;
- обращения с совершенно иными сервисами в другом неймспейсе;
- обращения с частью, запущенных вне кластера Kubernetes.

Манифест:
  
Необходимо указать версию проекта, заполнить метаданные (имя, лейбл). Важная часть это указание типа в ```kind: Service```. 
Также в сервисах прописывет тип протокола и порты.

Ingress — ресурс K8S, с помощью которого мы можем задать единую точку входа в кластер. Ingress позволяет нам назначить для каждого сервиса свой URL, доступный вне кластера.

  Ingress предоставляет доступ к маршрутам HTTP и HTTPS из-за пределов кластера к сервисам внутри кластера. Маршрутизация трафика контролируется правилами, определенными на Ingress ресурсе.
Чтобы использовать Ingress нужен Ingress Controller (например, можно развернуть ingress-nginx)

Манифест Ingress

Также необходимо указать тип версию и тип: ```kind: Ingress```, заполнить методанные. В спецификации указыаются хосты, правила образения к ним и пути, а также порты.

### Как работают CNI, типы CNI, особенности развертывания и эксплуатации.

Сетевой интерфейс контейнеров (CNI) — объединяет поды в разных узлах, выступая в качестве интерфейса между сетевым пространством имен и сетевым плагином или между поставщиком сетевых услуг и сетью Kubernetes. 
Плагины CNI позволяют динамически настраивать сеть и ресурсы по мере инициализации и удаления подов. Они инициализируют и администрируют IP-адреса при создании и удалении контейнеров.

  CNI состоит из 4 частей:
- Спецификация — определяет обязательные поддерживаемые операции, список параметров и конфигураций.
- Плагины CNI (CNI plugin) — это исполняемые файлы.
- Библиотеки — это реализации спецификации CNI.
- Сторонние плагины —  обеспечивают поддержку различных современных решений

У каждого сетевого провайдера имеется свой CNI plugin.
Принцип работы: ``` Runtime контейнера запускает CNI plugin, чтобы сконфигурировать сеть для Pod'a в процессе его запуска.```

Таким образом, CNI отвечает за организацию сетевого взаимодействия в K8S.
